buildscript {
    repositories.gradlePluginPortal()
    dependencies.classpath "io.codearte.gradle.nexus:gradle-nexus-staging-plugin:0.21.0"
}

apply plugin: 'java-library'
apply plugin: 'groovy'

group 'de.kaleidox'
version '1.0.2rev1'

apply from: 'gradle/vars.gradle'

sourceCompatibility = 1.8
targetCompatibility = 1.8

wrapper {
    gradleVersion = '5.2'
    distributionUrl = "https://services.gradle.org/distributions/gradle-$gradleVersion-all.zip"
}

task sourcesJar(type: Jar) {
    from sourceSets.main.allJava
    archiveClassifier = "sources"
}

task javadocJar(type: Jar) {
    //javadoc
    from javadoc.destinationDir
    archiveClassifier = "javadoc"
}

javadoc {
    source = sourceSets.main.java
    options.encoding = 'UTF-8'
    options.destinationDirectory(file("./docs/"))
}

compileJava.options.encoding = 'UTF-8'
repositories.jcenter()

dependencies {
    api 'org.apache.logging.log4j:log4j-api:2.11.2'

    implementation('org.javacord:javacord-api:3.0.4')
            { exclude group: 'com.fasterxml.jackson.core' }
    implementation('org.javacord:javacord-core:3.0.4')
            { exclude group: 'com.fasterxml.jackson.core' }
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.10.0.pr1'

    compileOnly 'org.jetbrains:annotations:17.0.0'
    

    testImplementation 'junit:junit:4.12'
    testImplementation 'org.easymock:easymock:4.0.2'

    testCompileOnly 'org.codehaus.groovy:groovy:3.0.0-beta-1'
}

apply from: 'gradle/publishing.gradle'
